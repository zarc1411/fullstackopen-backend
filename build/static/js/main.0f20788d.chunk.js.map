{"version":3,"sources":["components/Filter.js","services/personService.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchItem","handleSearchItemChange","value","onChange","baseUrl","PersonForm","persons","newName","newNumber","handleNameChange","handleNumberChange","setPersons","setNewName","setNewNumber","setMessage","setErrorMessage","onSubmit","event","preventDefault","nameIndex","findIndex","person","name","find","window","confirm","changedPerson","number","console","log","id","axios","put","then","response","data","personService","changedObject","map","currentPerson","catch","error","setTimeout","newObject","post","returnedObject","newPersons","concat","type","Persons","personsArrayToShow","filter","toLowerCase","includes","deletePerson","personName","delete","key","onClick","Notification","message","errorMessage","className","App","useState","useEffect","get","initialPhoneNumbers","setSearchItem","currentSearchItem","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f20788d.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ searchItem, handleSearchItemChange }) => {\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={searchItem} onChange={handleSearchItemChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst updateNumber = (id, changedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, changedPerson);\n  return request.then((response) => response.data);\n};\nexport { getAll, create, deletePerson, updateNumber };\n","import React from \"react\";\nimport * as personService from \"../services/personService\";\nconst PersonForm = ({\n  persons,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n  setPersons,\n  setNewName,\n  setNewNumber,\n  setMessage,\n  setErrorMessage,\n}) => {\n  const addPerson = (event) => {\n    event.preventDefault();\n    const nameIndex = persons.findIndex((person) => person.name === newName);\n    const person = persons.find((person) => person.name === newName);\n    if (nameIndex !== -1) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const changedPerson = { name: person.name, number: newNumber };\n        console.log(changedPerson);\n        personService\n          .updateNumber(person.id, changedPerson)\n          .then((changedObject) => {\n            setPersons(\n              persons.map((currentPerson) =>\n                currentPerson.id !== person.id ? currentPerson : changedObject\n              )\n            );\n            setMessage(`Added ${changedObject.name}`);\n          })\n          .catch((error) => {\n            setErrorMessage(error.response.data);\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n          });\n      }\n    } else if (newName !== \"\" && newNumber !== \"\") {\n      const newObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(newObject)\n        .then((returnedObject) => {\n          let newPersons = persons.concat(returnedObject);\n          setPersons(newPersons);\n          setMessage(`Added ${returnedObject.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .catch((error) => setErrorMessage(error.response.data));\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name : <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number : <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\nimport * as personService from \"../services/personService\";\nconst Persons = ({ persons, searchItem, setPersons }) => {\n    const personsArrayToShow =\n        searchItem === \"\"\n            ? persons\n            : persons.filter((person) =>\n                  person.name.toLowerCase().includes(searchItem)\n              );\n    const deletePerson = (personName, id) => {\n        if (window.confirm(`Delete ${personName}?`)) {\n            personService.deletePerson(id).then(() => {\n                setPersons(persons.filter((person) => person.id !== id));\n            });\n        }\n    };\n    return (\n        <div>\n            {personsArrayToShow.map((person) => (\n                <p key={person.name}>\n                    {person.name} {person.number}{\" \"}\n                    <button\n                        onClick={() => deletePerson(person.name, person.id)}\n                    >\n                        Delete\n                    </button>\n                </p>\n            ))}\n        </div>\n    );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, errorMessage }) => {\n  if (message === null && errorMessage === null) {\n    return null;\n  } else if (message) {\n    return <div className=\"message\">{message}</div>;\n  } else {\n    return <div className=\"errorMessage\">{errorMessage}</div>;\n  }\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport * as personService from \"../src/services/personService\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialPhoneNumbers) => setPersons(initialPhoneNumbers));\n  }, []);\n\n  const [newName, setNewName] = useState(\"\"); //controlling the form element\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchItem, setSearchItem] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchItemChange = (event) => {\n    const currentSearchItem = event.target.value;\n    setSearchItem(currentSearchItem.toLowerCase());\n  };\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      <Notification message={message} errorMessage={errorMessage} />\n      <Filter\n        searchItem={searchItem}\n        handleSearchItemChange={handleSearchItemChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        persons={persons}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        setPersons={setPersons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        setMessage={setMessage}\n        setErrorMessage={setErrorMessage}\n      />\n\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        searchItem={searchItem}\n        setPersons={setPersons}\n      />\n    </div>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}